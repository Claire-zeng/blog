<!DOCTYPE html>
<html lang="zh-cn">
<head><script src="/blog/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=blog/livereload" data-no-instant defer></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç‰›é¡¿æ³•ä¼˜åŒ–ç®—æ³• - Claireçš„æŠ€æœ¯å­¦ä¹ ç¬”è®°</title>
    
    
    <script>
        MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true,
                processEnvironments: true
            },
            options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
            },
            chtml: {
                linebreaks: { automatic: true }
            }
        };
    </script>
    
    
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    
    
    <link rel="stylesheet" href="http://localhost:1313/blog/css/style.css">
    
    
    <link rel="icon" type="image/x-icon" href="http://localhost:1313/blog/favicon.ico">
</head>
<body>
    <header class="site-header">
        <div class="container">
            <nav class="navbar">
                <div class="navbar-brand">
                    <a href="http://localhost:1313/blog/" class="navbar-item">
                        <h1 class="title">Claireçš„æŠ€æœ¯å­¦ä¹ ç¬”è®°</h1>
                    </a>
                </div>
                <div class="navbar-menu">
                    <a href="http://localhost:1313/blog/" class="navbar-item">é¦–é¡µ</a>
                    <a href="http://localhost:1313/blog/categories" class="navbar-item">åˆ†ç±»</a>
                    <a href="http://localhost:1313/blog/tags" class="navbar-item">æ ‡ç­¾</a>
                    <a href="http://localhost:1313/blog/about" class="navbar-item">å…³äº</a>
                </div>
            </nav>
        </div>
    </header>

    <main class="site-main">
        <div class="container">
            
<div class="post-layout">
    
    <aside class="toc-sidebar">
        <div class="toc-container">
            <h3 class="toc-title">ğŸ“‹ ç›®å½•</h3>
            <div class="toc-content" id="toc">
                
            </div>
        </div>
    </aside>

    
    <article class="post">
        <header class="post-header">
            <h1 class="post-title">ç‰›é¡¿æ³•ä¼˜åŒ–ç®—æ³•</h1>
            <div class="post-meta">
                <time datetime="2024-01-16">2024å¹´1æœˆ16æ—¥</time>
                
                <span class="category">æ•°å€¼ä¼˜åŒ–</span>
                
            </div>
            
            <div class="post-tags">
                
                <span class="tag">ç‰›é¡¿æ³•</span>
                
                <span class="tag">äºŒé˜¶ä¼˜åŒ–</span>
                
                <span class="tag">æ‹Ÿç‰›é¡¿æ³•</span>
                
                <span class="tag">HessiançŸ©é˜µ</span>
                
            </div>
            
        </header>

        <div class="post-content" id="post-content">
            <h1 id="ç‰›é¡¿æ³•ä¼˜åŒ–ç®—æ³•">ç‰›é¡¿æ³•ä¼˜åŒ–ç®—æ³•</h1>
<p>ç‰›é¡¿æ³•æ˜¯ä¸€ç§åŸºäºäºŒé˜¶ä¿¡æ¯çš„ä¼˜åŒ–ç®—æ³•ï¼Œç›¸æ¯”æ¢¯åº¦ä¸‹é™å…·æœ‰æ›´å¿«çš„æ”¶æ•›é€Ÿåº¦ã€‚</p>
<h2 id="ç®—æ³•åŸç†">ç®—æ³•åŸç†</h2>
<p>ç‰›é¡¿æ³•åˆ©ç”¨å‡½æ•°çš„äºŒé˜¶å¯¼æ•°ä¿¡æ¯æ¥æ„é€ æ›´å¥½çš„æœç´¢æ–¹å‘ã€‚å¯¹äºç›®æ ‡å‡½æ•° $f(x)$ï¼Œç‰›é¡¿æ³•çš„æ›´æ–°å…¬å¼ä¸ºï¼š</p>
<p>$$x_{k+1} = x_k - H^{-1}(x_k) \nabla f(x_k)$$</p>
<p>å…¶ä¸­ï¼š</p>
<ul>
<li>$H(x_k)$ æ˜¯å‡½æ•°åœ¨ $x_k$ å¤„çš„HessiançŸ©é˜µ</li>
<li>$\nabla f(x_k)$ æ˜¯æ¢¯åº¦å‘é‡</li>
</ul>
<h2 id="ä¼˜åŠ¿ä¸ç‰¹ç‚¹">ä¼˜åŠ¿ä¸ç‰¹ç‚¹</h2>
<ol>
<li><strong>äºŒæ¬¡æ”¶æ•›</strong>ï¼šåœ¨æœ€ä¼˜è§£é™„è¿‘å…·æœ‰äºŒæ¬¡æ”¶æ•›é€Ÿåº¦</li>
<li><strong>äºŒé˜¶ä¿¡æ¯</strong>ï¼šåˆ©ç”¨HessiançŸ©é˜µæä¾›æ›´ç²¾ç¡®çš„å±€éƒ¨ä¿¡æ¯</li>
<li><strong>è‡ªé€‚åº”æ­¥é•¿</strong>ï¼šä¸éœ€è¦æ‰‹åŠ¨è®¾ç½®å­¦ä¹ ç‡</li>
</ol>
<h2 id="ä»£ç å®ç°">ä»£ç å®ç°</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">scipy.linalg</span> <span class="kn">import</span> <span class="n">inv</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">newton_method</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">grad_f</span><span class="p">,</span> <span class="n">hess_f</span><span class="p">,</span> <span class="n">x0</span><span class="p">,</span> <span class="n">max_iter</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mf">1e-6</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">    ç‰›é¡¿æ³•å®ç°
</span></span></span><span class="line"><span class="cl"><span class="s2">    
</span></span></span><span class="line"><span class="cl"><span class="s2">    å‚æ•°:
</span></span></span><span class="line"><span class="cl"><span class="s2">    f: ç›®æ ‡å‡½æ•°
</span></span></span><span class="line"><span class="cl"><span class="s2">    grad_f: æ¢¯åº¦å‡½æ•°
</span></span></span><span class="line"><span class="cl"><span class="s2">    hess_f: Hessianå‡½æ•°
</span></span></span><span class="line"><span class="cl"><span class="s2">    x0: åˆå§‹ç‚¹
</span></span></span><span class="line"><span class="cl"><span class="s2">    max_iter: æœ€å¤§è¿­ä»£æ¬¡æ•°
</span></span></span><span class="line"><span class="cl"><span class="s2">    tol: æ”¶æ•›å®¹å·®
</span></span></span><span class="line"><span class="cl"><span class="s2">    &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">x</span> <span class="o">=</span> <span class="n">x0</span>
</span></span><span class="line"><span class="cl">    <span class="n">history</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">copy</span><span class="p">()]</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">max_iter</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">grad</span> <span class="o">=</span> <span class="n">grad_f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">hess</span> <span class="o">=</span> <span class="n">hess_f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="c1"># æ±‚è§£çº¿æ€§æ–¹ç¨‹ç»„ H(x) * d = -grad(x)</span>
</span></span><span class="line"><span class="cl">        <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">d</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">hess</span><span class="p">,</span> <span class="o">-</span><span class="n">grad</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">except</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">LinAlgError</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="c1"># å¦‚æœHessianä¸å¯é€†ï¼Œä½¿ç”¨ä¼ªé€†</span>
</span></span><span class="line"><span class="cl">            <span class="n">d</span> <span class="o">=</span> <span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">pinv</span><span class="p">(</span><span class="n">hess</span><span class="p">)</span> <span class="o">@</span> <span class="n">grad</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="n">x_new</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">d</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">x_new</span> <span class="o">-</span> <span class="n">x</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">tol</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">break</span>
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">        <span class="n">x</span> <span class="o">=</span> <span class="n">x_new</span>
</span></span><span class="line"><span class="cl">        <span class="n">history</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">copy</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">x</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">history</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># ç¤ºä¾‹ï¼šæœ€å°åŒ– f(x) = x^2 + 2x + 1</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">grad_f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">hess_f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">2</span><span class="p">]])</span>  <span class="c1"># äºŒé˜¶å¯¼æ•°ä¸ºå¸¸æ•°2</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># è¿è¡Œç‰›é¡¿æ³•</span>
</span></span><span class="line"><span class="cl"><span class="n">x_opt</span><span class="p">,</span> <span class="n">history</span> <span class="o">=</span> <span class="n">newton_method</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">grad_f</span><span class="p">,</span> <span class="n">hess_f</span><span class="p">,</span> <span class="n">x0</span><span class="o">=</span><span class="mf">5.0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;æœ€ä¼˜è§£: x = </span><span class="si">{</span><span class="n">x_opt</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.6f</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;æœ€ä¼˜å€¼: f(x) = </span><span class="si">{</span><span class="n">f</span><span class="p">(</span><span class="n">x_opt</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="si">:</span><span class="s2">.6f</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span></code></pre></div><h2 id="å±€é™æ€§">å±€é™æ€§</h2>
<ol>
<li><strong>è®¡ç®—æˆæœ¬</strong>ï¼šéœ€è¦è®¡ç®—å’Œå­˜å‚¨HessiançŸ©é˜µ</li>
<li><strong>å­˜å‚¨éœ€æ±‚</strong>ï¼šå¯¹äºé«˜ç»´é—®é¢˜ï¼ŒHessiançŸ©é˜µå­˜å‚¨æˆæœ¬é«˜</li>
<li><strong>æ•°å€¼ç¨³å®šæ€§</strong>ï¼šHessiançŸ©é˜µå¯èƒ½ä¸å¯é€†æˆ–ç—…æ€</li>
</ol>
<h2 id="æ”¹è¿›æ–¹æ³•">æ”¹è¿›æ–¹æ³•</h2>
<h3 id="æ‹Ÿç‰›é¡¿æ³•">æ‹Ÿç‰›é¡¿æ³•</h3>
<p>æ‹Ÿç‰›é¡¿æ³•é€šè¿‡è¿‘ä¼¼HessiançŸ©é˜µæ¥é¿å…ç›´æ¥è®¡ç®—ï¼š</p>
<ul>
<li><strong>BFGSç®—æ³•</strong>ï¼šæœ€å¸¸ç”¨çš„æ‹Ÿç‰›é¡¿æ³•</li>
<li><strong>DFPç®—æ³•</strong>ï¼šå¦ä¸€ç§ç»å…¸çš„æ‹Ÿç‰›é¡¿æ³•</li>
<li><strong>L-BFGS</strong>ï¼šé€‚ç”¨äºå¤§è§„æ¨¡é—®é¢˜çš„å†…å­˜å‹å¥½ç‰ˆæœ¬</li>
</ul>
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<p>ç‰›é¡¿æ³•åœ¨å‡½æ•°æ€§è´¨è‰¯å¥½æ—¶å…·æœ‰ä¼˜ç§€çš„æ”¶æ•›æ€§èƒ½ï¼Œä½†åœ¨å®é™…åº”ç”¨ä¸­éœ€è¦è€ƒè™‘è®¡ç®—æˆæœ¬å’Œæ•°å€¼ç¨³å®šæ€§é—®é¢˜ã€‚</p>

        </div>

        <footer class="post-footer">
            <div class="post-navigation">
                
                <a href="/blog/posts/gradient-descent/" class="prev-post">
                    â† æ¢¯åº¦ä¸‹é™ç®—æ³•è¯¦è§£
                </a>
                
                
                <a href="/blog/posts/%E6%97%A0%E7%BA%A6%E6%9D%9F%E4%BC%98%E5%8C%96%E5%9F%BA%E7%A1%80%E4%B8%80/" class="next-post">
                    æ— çº¦æŸä¼˜åŒ–åŸºç¡€(ä¸€) â†’
                </a>
                
            </div>
        </footer>
    </article>
</div>


<script>
document.addEventListener('DOMContentLoaded', function() {
    generateTOC();
    handleTOCScroll();
});

function generateTOC() {
    const content = document.getElementById('post-content');
    const toc = document.getElementById('toc');
    const headings = content.querySelectorAll('h1, h2, h3, h4, h5, h6');
    
    if (headings.length === 0) {
        document.querySelector('.toc-sidebar').style.display = 'none';
        document.querySelector('.post').style.marginLeft = '0';
        return;
    }
    
    let tocHTML = '<ul class="toc-list">';
    let currentLevel = 0;
    
    headings.forEach((heading, index) => {
        const level = parseInt(heading.tagName.charAt(1));
        const text = heading.textContent;
        const id = 'heading-' + index;
        
        
        heading.id = id;
        
        
        if (level > currentLevel) {
            for (let i = currentLevel; i < level; i++) {
                if (i > 0) tocHTML += '<ul class="toc-list">';
            }
        } else if (level < currentLevel) {
            for (let i = currentLevel; i > level; i--) {
                tocHTML += '</ul>';
            }
        }
        
        tocHTML += `<li class="toc-item toc-level-${level}">
                      <a href="#${id}" class="toc-link" data-target="${id}">${text}</a>
                    </li>`;
        
        currentLevel = level;
    });
    
    
    for (let i = 0; i < currentLevel; i++) {
        tocHTML += '</ul>';
    }
    
    toc.innerHTML = tocHTML;
    
    
    document.querySelectorAll('.toc-link').forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            const targetId = this.getAttribute('data-target');
            const targetElement = document.getElementById(targetId);
            if (targetElement) {
                targetElement.scrollIntoView({ behavior: 'smooth' });
                
                
                document.querySelectorAll('.toc-link').forEach(l => l.classList.remove('active'));
                this.classList.add('active');
            }
        });
    });
}

function handleTOCScroll() {
    const headings = document.querySelectorAll('#post-content h1, #post-content h2, #post-content h3, #post-content h4, #post-content h5, #post-content h6');
    const tocLinks = document.querySelectorAll('.toc-link');
    
    if (headings.length === 0) return;
    
    window.addEventListener('scroll', function() {
        let currentHeading = '';
        
        headings.forEach(heading => {
            const rect = heading.getBoundingClientRect();
            if (rect.top <= 100) {
                currentHeading = heading.id;
            }
        });
        
        tocLinks.forEach(link => {
            link.classList.remove('active');
            if (link.getAttribute('data-target') === currentHeading) {
                link.classList.add('active');
            }
        });
    });
}
</script>

        </div>
    </main>

    <footer class="site-footer">
        <div class="container">
            <p>&copy; 2025 Claireçš„æŠ€æœ¯å­¦ä¹ ç¬”è®°. All rights reserved.</p>
        </div>
    </footer>

    
    <button id="back-to-top" class="back-to-top-btn" title="å›åˆ°é¡¶éƒ¨">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 4L4 12H8V20H16V12H20L12 4Z" fill="currentColor"/>
        </svg>
    </button>

    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const backToTopBtn = document.getElementById('back-to-top');
            
            
            window.addEventListener('scroll', function() {
                if (window.pageYOffset > 300) {
                    backToTopBtn.classList.add('show');
                } else {
                    backToTopBtn.classList.remove('show');
                }
            });
            
            
            backToTopBtn.addEventListener('click', function() {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });
        });
    </script>
</body>
</html>
